import React, { useState } from 'react';import { useHistory } from 'react-router-dom';import axios from 'axios';import 'tailwindcss/tailwind.css';const Checkout = () => {const [formData, setFormData] = useState({name: '',email: '',address: '',cardNumber: '',expiryDate: '',cvv: '',});const [loading, setLoading] = useState(false);const [error, setError] = useState('');const history = useHistory();const handleChange = (e) => {const { name, value } = e.target;setFormData({...formData,[name]: value,});};const handleSubmit = async (e) => {e.preventDefault();setLoading(true);setError('');try {const response = await axios.post('/api/checkout', formData);if (response.data.success) {history.push('/success');} else {setError(response.data.message || 'Payment failed. Please try again.');}} catch (err) {setError(err.response && err.response.data.message ? err.response.data.message : 'An error occurred. Please try again.');} finally {setLoading(false);}};return (<div className="max-w-lg mx-auto mt-10 p-6 bg-white rounded-lg shadow-md"><h2 className="text-2xl font-bold mb-4">Checkout</h2>{error && <p className="text-red-500 mb-4">{error}</p>}<form onSubmit={handleSubmit}><div className="mb-4"><label className="block text-gray-700">Name</label><inputtype="text"name="name"value={formData.name}onChange={handleChange}className="w-full mt-2 p-2 border rounded"required/></div><div className="mb-4"><label className="block text-gray-700">Email</label><inputtype="email"name="email"value={formData.email}onChange={handleChange}className="w-full mt-2 p-2 border rounded"required/></div><div className="mb-4"><label className="block text-gray-700">Address</label><inputtype="text"name="address"value={formData.address}onChange={handleChange}className="w-full mt-2 p-2 border rounded"required/></div><div className="mb-4"><label className="block text-gray-700">Card Number</label><inputtype="text"name="cardNumber"value={formData.cardNumber}onChange={handleChange}className="w-full mt-2 p-2 border rounded"required pattern="\d{16}" title="Please enter a valid 16-digit card number"/></div><div className="mb-4"><label className="block text-gray-700">Expiry Date</label><inputtype="text"name="expiryDate"value={formData.expiryDate}onChange={handleChange}className="w-full mt-2 p-2 border rounded"placeholder="MM/YY"required pattern="(0[1-9]|1[0-2])\/\d{2}" title="Please enter a valid expiry date in MM/YY format"/></div><div className="mb-4"><label className="block text-gray-700">CVV</label><inputtype="text"name="cvv"value={formData.cvv}onChange={handleChange}className="w-full mt-2 p-2 border rounded"required pattern="\d{3}" title="Please enter a valid 3-digit CVV"/></div><buttontype="submit"className={`w-full bg-blue-500 text-white p-2 rounded ${loading && 'opacity-50 cursor-not-allowed'}`}disabled={loading}>{loading ? 'Processing...' : 'Place Order'}</button></form></div>);};export default Checkout;